# API Compiler

![Go Build and Test](https://github.com/chromacruiser/api-compiler/actions/workflows/go.yml/badge.svg)

API Compiler is an open-source HTTP service that exposes an endpoint for AVR code to be compiled. It is a tool for
developers who are working on AVR-based microcontroller projects and need an easy way to compile their code.

## Features

* Exposes a simple RESTful API for AVR code compilation
* Supports the AVR-GCC compiler for compiling C and C++ code
* Accepts a ZIP file containing the AVR project to be compiled
* Returns the compiled binary as an Intel HEX file
* Provides an example endpoint (`/example/compile`) that returns an example Intel HEX file for testing purposes

## Usage

To use API Compiler, follow these simple steps:

1. Clone the repository or download the source code.
2. Run the API server using the command `go run main.go`. The server will be available on port `8080`.
3. Send a POST request to the `/compile` endpoint with a ZIP file containing the AVR project to be compiled.
4. The compiled binary as an Intel HEX file will be returned as the response to the API request.

## Tasks

| Command         | Description                                                         |
|:--------------------|:---------------------------------------------------------------------|
| generate-go-server | Generates Go server code from the OpenAPI specification located in `resources/openapi.yaml` and saves it to `internal/api/api.gen.go`. |
| docker-build | Builds a Docker image named `api-compiler` using the latest Go application code. |
| docker-run | Runs the latest Docker image built by the `docker-build` task and maps the container port `8080` to the host port `8080`. |
| docker-shell | Opens an interactive shell in the Docker container generated by the `docker-run` task. |
| docker-attach | Attaches to a running container with the name `api-compiler` and runs the `/bin/sh` command. |

## License

API Compiler is released under the GNU Affero General Public License v3.0 license. See [LICENSE](./LICENSE) for more details.
